<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Agent Monitor</title>

  <style>
    body {
      background:#0b0f14;
      color:#e5e7eb;
      font-family:Segoe UI, sans-serif;
      padding:20px;
    }

    h2 {
      margin-bottom:15px;
    }

    table {
      width:100%;
      border-collapse:collapse;
      margin-top:10px;
    }

    th, td {
      padding:10px;
      border-bottom:1px solid #1f2937;
      text-align:left;
    }

    th {
      background:#111827;
    }

    .online {
      color:#22c55e;
      font-weight:bold;
    }

    .offline {
      color:#ef4444;
      font-weight:bold;
    }
  </style>
</head>
<body>

<h2>ðŸ›° Agent Monitor</h2>

<table>
<thead>
<tr>
  <th>Agent ID</th>
  <th>Status</th>
  <th>IP</th>
  <th>City</th>
</tr>
</thead>

<tbody>
{% for id, a in agents.items() %}
<tr>
  <td>{{ id }}</td>

  {% if now - a.last_seen < 20 %}
    <td class="online">ðŸŸ¢ Online</td>
  {% else %}
    <td class="offline">ðŸ”´ Offline</td>
  {% endif %}

  <td>{{ a.ip }}</td>
  <td>{{ a.city }}</td>
</tr>
{% endfor %}
</tbody>
</table>

</body>
</html>
