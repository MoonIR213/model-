<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>⚡ Agent Proxy Interface</title>
<style>
body{
  background:#0b0f14;
  color:#e5e7eb;
  font-family:Segoe UI, Tahoma, sans-serif;
}
h1{margin:10px 0;}
table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}
th,td{
  padding:10px;
  border-bottom:1px solid #1f2937;
  font-size:14px;
}
th{background:#111827;}
.online{color:#22c55e;font-weight:bold;}
.offline{color:#ef4444;font-weight:bold;}
.badge{
  padding:2px 6px;
  border-radius:4px;
  font-size:12px;
}
</style>
</head>
<body>

<h1>⚡ Agent Proxy Interface</h1️
<p>Live agents (auto refresh every 5s)</p>

<table>
<thead>
<tr>
  <th>Agent ID</th>
  <th>Status</th>
  <th>Last Seen (s)</th>
</tr>
</thead>
<tbody id="agents"></tbody>
</table>

<script>
async function loadAgents(){
  const res = await fetch("/agents");
  const data = await res.json();
  const tbody = document.getElementById("agents");
  tbody.innerHTML = "";

  data.forEach(a=>{
    tbody.innerHTML += `
      <tr>
        <td>${a.agent_id}</td>
        <td class="${a.status}">${a.status}</td>
        <td>${a.last_seen}</td>
      </tr>
    `;
  });
}

loadAgents();
setInterval(loadAgents, 5000);
</script>

</body>
</html>
