<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Agent Proxy Interface</title>
<style>
body{background:#0b0f14;color:#e5e7eb;font-family:Segoe UI}
table{width:100%;border-collapse:collapse;margin-top:20px}
th,td{padding:10px;border-bottom:1px solid #1f2937}
th{background:#111827}
.online{color:#22c55e}
.offline{color:#ef4444}
</style>
</head>
<body>
<h2>âš¡ Agent Proxy Interface</h2>
<p>Live agents (auto refresh every 5s)</p>
<table>
<thead>
<tr><th>ID</th><th>IP</th><th>City</th><th>Country</th><th>Status</th></tr>
</thead>
<tbody id="rows"></tbody>
</table>

<script>
async function load(){
  const r = await fetch('/agents');
  const data = await r.json();
  const tb = document.getElementById('rows');
  tb.innerHTML = '';
  data.forEach(a=>{
    tb.innerHTML += `<tr>
      <td>${a.id}</td>
      <td>${a.ip||''}</td>
      <td>${a.city}</td>
      <td>${a.country}</td>
      <td class="${a.status}">${a.status}</td>
    </tr>`;
  })
}
setInterval(load,5000); load();
</script>
</body>
</html>
